# M³GIM Projektstand – 18. Januar 2026

*Dokumentation des Implementierungsstatus nach Phase 2 Prototyp*

---

## Übersicht

| Aspekt | Status |
|--------|--------|
| **Phase 1 (MVP)** | Abgeschlossen |
| **Phase 2 (Prototyp)** | In Arbeit |
| **Phase 3 (Analyse)** | Konzept fertig, Implementierung ausstehend |
| **Design-System** | Implementiert ("Scholarly Elegance") |

---

## Implementierte Funktionen

### 1. Header & Navigation

| Element | Status | Anmerkung |
|---------|--------|-----------|
| Logo "M³GIM" | ✓ | KUG-Blau, Inter 700 |
| Untertitel | ✓ | "Digitales Archiv Ira Malaniuk" |
| Pill-Tabs (Archiv/Analyse) | ✓ | Aktiver Tab: blau gefüllt, inaktiv: transparent |
| Lucide-Icons in Tabs | ✓ | `archive`, `bar-chart-3` |
| Suchfeld | ✓ | Kontextabhängiger Placeholder |
| View-Switching | ✓ | JavaScript wechselt Sidebar + Content |

**Screenshot-Bewertung:** Header wirkt professionell, institutionell angemessen.

---

### 2. Archiv-Bereich

#### 2.1 Tektonik-Navigation (Sidebar)

| Element | Status | Problem |
|---------|--------|---------|
| Section-Label "BESTAND" | ✓ | Uppercase, Letter-Spacing |
| Hierarchische Baum-Struktur | ✓ | Mit Chevron-Icons |
| Expand/Collapse | ✓ | Animiert |
| Counts pro Gruppe | ⚠️ | **FEHLERHAFT** |

**Bekannter Bug:** Die Tektonik-Counts zeigen falsche Werte:

| Gruppe | Angezeigt | Soll (laut DESIGN.md) |
|--------|-----------|----------------------|
| Hauptbestand | 411 | 182 |
| Plakate | 0 | 25 |
| Fotografien | 0 | 228 |
| Tonträger | 0 | 1 |

**Ursache:** Die Signatur-Prefixe in `TEKTONIK_STRUKTUR` (app.js) stimmen nicht mit den echten Daten überein:

```javascript
// Code erwartet:
'Plakate': { prefix: 'NIM_PL_' }

// Daten haben:
'UAKUG/NIM/PL_01'  // Slash statt Underscore
```

#### 2.2 Filter (Sidebar)

| Element | Status | Anmerkung |
|---------|--------|-----------|
| Section-Label "FILTER" | ✓ | |
| Dokumenttyp-Checkboxen | ✓ | Dynamisch aus Daten generiert, mit Counts |
| Bestand (Objekte/Fotos) | ✓ | Korrekte Counts (208/228) |
| Zugänglichkeit | ✓ | Offen/Eingeschränkt/Gesperrt |
| Filter-Logik | ✓ | Alle Filter kombinierbar |

#### 2.3 Karten-Grid (Content)

| Element | Status | Anmerkung |
|---------|--------|-----------|
| 3-Spalten-Layout | ✓ | Responsive (1-3 Spalten) |
| Signatur (Monospace) | ✓ | JetBrains Mono, grau |
| Status-Badge | ✓ | Grüner Punkt + "offen" |
| Typ-Badge | ✓ | Pill-Form, Cream-Hintergrund |
| Titel (max 2 Zeilen) | ✓ | Ellipsis bei Überlauf |
| Datum | ✓ | Formatiert (DD.MM.YYYY) |
| Hover-Effekt | ✓ | Schatten + translateY |
| Klick → Modal | ✓ | |

**Screenshot-Bewertung:** Karten sehen professionell aus. Klare Hierarchie.

#### 2.4 Ergebniszähler

| Element | Status | Anmerkung |
|---------|--------|-----------|
| "436 Archiveinheiten" | ✓ | Aktualisiert bei Filter |
| "X von Y Archiveinheiten" | ✓ | Bei aktiven Filtern |

---

### 3. Analyse-Bereich

| Element | Status | Anmerkung |
|---------|--------|-----------|
| Sidebar: Visualisierungs-Auswahl | ✓ | Netzwerk/Timeline/Karte |
| Viz-Buttons mit Icons | ✓ | Lucide: git-branch, trending-up, map |
| Aktiver Button | ✓ | Blau hinterlegt |
| Verbindungsstärke-Slider | ✓ | 1-10, Default: 3 |
| Kontextabhängige Controls | ✓ | Nur relevante Controls sichtbar |
| Placeholder-Container | ✓ | Mit Icon, Titel, Tech-Stack |
| Visualisierungen selbst | ❌ | Phase 3 |

**Screenshot-Bewertung:** Placeholder kommuniziert klar, dass Funktion noch kommt.

---

### 4. Modal (Detailansicht)

| Element | Status | Anmerkung |
|---------|--------|-----------|
| Breadcrumb | ✓ | "UAKUG / NIM / Hauptbestand" |
| Signatur (prominent) | ✓ | JetBrains Mono, H2 |
| Titel | ✓ | Source Serif 4 |
| Metadaten-Tabelle | ✓ | Label/Value-Paare |
| Provenienz-Sektion | ✓ | Cream-Hintergrund |
| Verknüpfungen gruppiert | ✓ | Personen/Institutionen/Orte/Werke/Ereignisse |
| Lucide-Icons | ✓ | user, building-2, map-pin, music, calendar |
| Footer-Buttons | ✓ | JSON-LD, "In Analyse öffnen" |
| Close-Button | ✓ | X-Icon |
| Overlay-Click-to-Close | ✓ | |
| ESC-to-Close | ✓ | |
| Animation | ✓ | Scale + Fade-in |

---

### 5. Design-System

#### 5.1 Typografie

| Font | Verwendung | Status |
|------|------------|--------|
| Inter | UI, Navigation, Labels | ✓ Google Fonts |
| Source Serif 4 | Titel in Modal, Beschreibungen | ✓ Google Fonts |
| JetBrains Mono | Signaturen, JSON | ✓ Google Fonts |

#### 5.2 Farbpalette

| Farbe | Hex | Verwendung | Status |
|-------|-----|------------|--------|
| KUG-Blau | #004A8F | Primär, aktive Elemente | ✓ |
| Papier-Weiß | #FAFAFA | Hintergrund | ✓ |
| Archiv-Creme | #F5F3EF | Sidebar, Karten | ✓ |
| Pergament | #EDE8E0 | Hover, Provenienz-Box | ✓ |
| Text-Primär | #1A1A1A | Überschriften | ✓ |
| Text-Sekundär | #4A4A4A | Body | ✓ |
| Text-Tertiär | #757575 | Labels, Signaturen | ✓ |

#### 5.3 Mobilitätsformen-Farben (für Phase 3)

| Form | Hex | Status |
|------|-----|--------|
| Erzwungen | #B71C1C | ✓ definiert |
| Geografisch | #2E7D32 | ✓ definiert |
| Bildung | #E65100 | ✓ definiert |
| Lebensstil | #6A1B9A | ✓ definiert |
| National | #1565C0 | ✓ definiert |

#### 5.4 Icons

| Icon-Set | Status | Anmerkung |
|----------|--------|-----------|
| Lucide Icons | ✓ | Via CDN (unpkg) |
| Initialisierung | ✓ | `lucide.createIcons()` bei DOMContentLoaded |
| Re-Init bei DOM-Änderungen | ✓ | In `buildTektonikNav()` |

---

### 6. Accessibility

| Feature | Status |
|---------|--------|
| Skip-Link | ✓ |
| ARIA-Labels | ✓ |
| role="tablist" / role="tab" | ✓ |
| Keyboard-Navigation (Enter/Space) | ✓ |
| Focus-Indikatoren | ✓ |
| Farbkontrast ≥4.5:1 | ✓ |

---

## Bekannte Bugs

### Bug 1: Tektonik-Counts falsch – BEHOBEN ✓

**Symptom:** Hauptbestand zeigte 411, Plakate/Fotografien/Tonträger zeigten 0.

**Ursache:** Prefix-Mismatch zwischen Code und Daten.

**Lösung:** `TEKTONIK_STRUKTUR` an echte Signaturen angepasst:

```javascript
// Alte (falsche) Prefixe:
'NIM_PL_', 'NIM_F_', 'NIM_T_'

// Neue (korrekte) Prefixe:
'NIM/PL_'  → Plakate (25)
'NIM_FS_'  → Fotografien (228)
'NIM_TT_'  → Tonträger (1)
'NIM_'     → Hauptbestand (183, excludes FS/TT/PL)
```

**Status:** Behoben am 2026-01-18

---

## Offene Aufgaben

### Phase 2 (aktuell)

| Aufgabe | Priorität | Status |
|---------|-----------|--------|
| Tektonik-Counts korrigieren | Hoch | ❌ |
| Filter-Interaktion mit Tektonik | Mittel | ⚠️ Teilweise |
| Kontext-Navigation (←/→) in Modal | Niedrig | ❌ |
| CSV-Export | Niedrig | ❌ |

### Phase 3 (nächste)

| Aufgabe | Bibliothek | Voraussetzung |
|---------|------------|---------------|
| Personen-Netzwerk | D3.js (d3-force) | Personenindex mit Verbindungen |
| Timeline | Observable Plot | 315 Records mit Datum |
| Karte | Leaflet | Ortsindex mit Koordinaten |
| Mobilitätsformen | – | Datenfeld `mobilitaetsform` |

---

## Dateien

### Geändert in dieser Session

| Datei | Änderungen |
|-------|------------|
| `docs/index.html` | Google Fonts, Lucide CDN, neue Klassen, Accessibility |
| `docs/css/styles.css` | Komplettes Design-System neu |
| `docs/js/app.js` | nav-tab Klassen, tektonik-item__row, Lucide Re-Init |
| `knowledge/DESIGN-System.md` | NEU: Vollständige Design-Spezifikation |

### Referenz-Dokumente

| Datei | Inhalt |
|-------|--------|
| `DESIGN.md` | Konzept, Informationsarchitektur, Phasenplanung |
| `DESIGN-Entscheidungen.md` | Gelöste Design-Fragen mit Position/Synthese |
| `DESIGN-System.md` | Farben, Typografie, Komponenten, Icons |
| `Datenmodell.md` | JSON-LD-Struktur, Mobilitätsform-Erfassung |

---

## Empfehlungen für nächste Schritte

1. **Sofort:** Tektonik-Prefixe korrigieren (Bug-Fix)
2. **Danach:** Datenstruktur für Personenindex prüfen
3. **Phase 3 Start:** Timeline mit Observable Plot (einfachster Einstieg)

---

*Erstellt: 2026-01-18*
*Autor: Claude (Design-System-Implementierung)*
