<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Digitales Archiv des Nachlasses der SÃ¤ngerin Ira Malaniuk (1919-2009) - UniversitÃ¤tsarchiv der KunstuniversitÃ¤t Graz">
  <meta name="keywords" content="Ira Malaniuk, Archiv, Oper, SÃ¤ngerin, KUG, Graz, Digital Humanities, RiC-O">
  <meta name="author" content="KunstuniversitÃ¤t Graz - UniversitÃ¤tsarchiv">
  <meta name="robots" content="index, follow">

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="MÂ³GIM - Digitales Archiv Ira Malaniuk">
  <meta property="og:description" content="Digitales Archiv des Nachlasses der SÃ¤ngerin Ira Malaniuk (1919-2009)">
  <meta property="og:locale" content="de_AT">

  <title>MÂ³GIM - Digitales Archiv Ira Malaniuk</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ­</text></svg>">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/visualizations.css">
</head>
<body>

  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Zum Inhalt springen</a>

  <!-- Header -->
  <header class="header">
    <div class="header__content">
      <div class="header__brand">
        <h1 class="header__title">MÂ³GIM</h1>
        <span class="header__subtitle">Digitales Archiv Ira Malaniuk</span>
      </div>

      <nav class="nav-tabs" role="tablist" aria-label="Ansichtswahl">
        <button class="nav-tab nav-tab--active" role="tab" aria-selected="true" data-view="analyse" id="tab-analyse">
          <i data-lucide="bar-chart-3" class="nav-tab__icon" aria-hidden="true"></i>
          Analyse
        </button>
        <button class="nav-tab" role="tab" aria-selected="false" data-view="archiv" id="tab-archiv">
          <i data-lucide="archive" class="nav-tab__icon" aria-hidden="true"></i>
          Archiv
        </button>
      </nav>

      <div class="search">
        <input
          type="search"
          id="search-input"
          class="search__input"
          placeholder="Suche in Titeln und Beschreibungen..."
          autocomplete="off"
          aria-label="Archivsuche"
        >
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main" id="main-content">

    <!-- Sidebar with Filters (Archiv) - hidden by default -->
    <aside class="sidebar sidebar--hidden" id="sidebar-archiv">
      <!-- Tektonik Navigation -->
      <div class="sidebar__section">
        <span class="sidebar__label">Bestand</span>
        <nav class="tektonik-tree" id="tektonik-nav" aria-label="Bestandsstruktur">
          <!-- Populated by JavaScript -->
        </nav>
      </div>

      <hr class="sidebar__divider">

      <!-- Filter Section -->
      <div class="sidebar__section">
        <span class="sidebar__label">Filter</span>

        <!-- Document Type Filter -->
        <div class="filter-group">
          <h3 class="filter-group__title">Dokumenttyp</h3>
          <div class="filter-group__options" id="filter-dokumenttyp">
            <!-- Populated by JavaScript -->
          </div>
        </div>

        <!-- Collection Filter -->
        <div class="filter-group">
          <h3 class="filter-group__title">Bestand</h3>
          <div class="filter-group__options" id="filter-bestand">
            <label class="filter-option">
              <input type="checkbox" value="objekte" checked>
              <span class="filter-option__label">Objekte</span>
              <span class="filter-option__count" id="count-objekte">-</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="fotos" checked>
              <span class="filter-option__label">Fotografien</span>
              <span class="filter-option__count" id="count-fotos">-</span>
            </label>
          </div>
        </div>

        <!-- Access Status Filter -->
        <div class="filter-group">
          <h3 class="filter-group__title">ZugÃ¤nglichkeit</h3>
          <div class="filter-group__options" id="filter-zugang">
            <label class="filter-option">
              <input type="checkbox" value="offen" checked>
              <span class="filter-option__label">Offen</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="eingeschraenkt" checked>
              <span class="filter-option__label">EingeschrÃ¤nkt</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" value="gesperrt" checked>
              <span class="filter-option__label">Gesperrt</span>
            </label>
          </div>
        </div>
      </div>
    </aside>

    <!-- Horizontal Toolbar - shown on all pages -->
    <div class="analyse-toolbar" id="analyse-toolbar">
      <!-- Visualization Selector -->
      <div class="toolbar-section toolbar-section--viz">
        <div class="viz-selector-horizontal" id="viz-selector">
          <button class="viz-tab viz-tab--active" data-viz="partitur" aria-pressed="true">
            <i data-lucide="layers" class="viz-tab__icon" aria-hidden="true"></i>
            <span class="viz-tab__label">Partitur</span>
          </button>
          <button class="viz-tab" data-viz="matrix" aria-pressed="false">
            <i data-lucide="grid-3x3" class="viz-tab__icon" aria-hidden="true"></i>
            <span class="viz-tab__label">Matrix</span>
          </button>
          <button class="viz-tab" data-viz="kosmos" aria-pressed="false">
            <i data-lucide="sun" class="viz-tab__icon" aria-hidden="true"></i>
            <span class="viz-tab__label">Kosmos</span>
          </button>
          <button class="viz-tab" data-viz="sankey" aria-pressed="false">
            <i data-lucide="git-branch" class="viz-tab__icon" aria-hidden="true"></i>
            <span class="viz-tab__label">Karriere</span>
          </button>
        </div>
      </div>

      <!-- Dynamic Controls Area -->
      <div class="toolbar-section toolbar-section--controls">
        <!-- Partitur Controls -->
        <div class="toolbar-controls" id="controls-partitur">
          <div class="toolbar-control-group">
            <label class="toolbar-label">Spuren:</label>
            <div class="toolbar-chips" id="filter-spuren">
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="lebensphasen" checked>
                <span>Lebensphasen</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="orte" checked>
                <span>Orte</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="mobilitaet" checked>
                <span>MobilitÃ¤t</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="netzwerk" checked>
                <span>Netzwerk</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="repertoire" checked>
                <span>Repertoire</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="dokumente" checked>
                <span>Dokumente</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Matrix Controls (hidden) -->
        <div class="toolbar-controls toolbar-controls--hidden" id="controls-matrix">
          <div class="toolbar-control-group">
            <label class="toolbar-label">Kategorien:</label>
            <div class="toolbar-chips" id="filter-matrix-kategorie">
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="dirigent" checked>
                <span>Dirigenten</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="regisseur" checked>
                <span>Regisseure</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="kollege" checked>
                <span>Kollegen</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="vermittler" checked>
                <span>Vermittler</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Kosmos Controls (hidden) -->
        <div class="toolbar-controls toolbar-controls--hidden" id="controls-kosmos">
          <div class="toolbar-control-group">
            <label class="toolbar-label">Komponisten:</label>
            <div class="toolbar-chips">
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="wagner" checked>
                <span>Wagner</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="verdi" checked>
                <span>Verdi</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="strauss" checked>
                <span>Strauss</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="andere" checked>
                <span>Andere</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Sankey Controls (hidden) -->
        <div class="toolbar-controls toolbar-controls--hidden" id="controls-sankey">
          <div class="toolbar-control-group">
            <label class="toolbar-label">MobilitÃ¤tsformen:</label>
            <div class="toolbar-chips" id="filter-mobilitaet">
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="erzwungen" checked>
                <span class="mobility-dot mobility-dot--erzwungen"></span>
                <span>Erzwungen</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="geografisch" checked>
                <span class="mobility-dot mobility-dot--geografisch"></span>
                <span>Geografisch</span>
              </label>
              <label class="toolbar-chip toolbar-chip--active">
                <input type="checkbox" value="lebensstil" checked>
                <span class="mobility-dot mobility-dot--lebensstil"></span>
                <span>Lebensstil</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- FF Badges & Export -->
      <div class="toolbar-section toolbar-section--meta">
        <div class="ff-badges-mini" id="ff-badges" role="group" aria-label="Forschungsfragen">
          <abbr class="ff-badge-mini ff-badge-mini--active" title="FF1: MobilitÃ¤t â†’ Vernetzung">FF1</abbr>
          <abbr class="ff-badge-mini ff-badge-mini--active" title="FF2: Migration â†’ Ã„sthetik">FF2</abbr>
          <abbr class="ff-badge-mini ff-badge-mini--active" title="FF3: Wissenstransfer">FF3</abbr>
          <abbr class="ff-badge-mini ff-badge-mini--active" title="FF4: MobilitÃ¤tsformen">FF4</abbr>
        </div>
        <button class="toolbar-export-btn" id="export-svg-btn" aria-label="Visualisierung als SVG exportieren">
          <i data-lucide="download" aria-hidden="true"></i>
          <span>SVG Export</span>
        </button>
      </div>
    </div>

    <!-- Content Area: Archiv View (hidden by default) -->
    <section class="content content--hidden" id="content-archiv">
      <div class="stats-bar">
        <span class="stats-bar__count" id="result-count">Lade...</span>
        <div class="active-filters" id="active-filters"></div>
      </div>

      <div class="record-grid" id="record-grid">
        <div class="loading-state">
          <i data-lucide="loader-2" class="loading-state__icon" aria-hidden="true"></i>
          Lade Archivdaten...
        </div>
      </div>
    </section>

    <!-- Content Area: Analyse View - FULLWIDTH LAYOUT -->
    <section class="content content--fullwidth" id="content-analyse">
      <!-- Visualization Header (minimal) -->
      <div class="viz-header-minimal">
        <h2 class="viz-header__title" id="viz-title">MobilitÃ¤ts-Partitur</h2>
        <p class="viz-header__description" id="viz-description">
          Parallele Darstellung aller Dimensionen wie eine Orchesterpartitur â€“ synchrone und diachrone Lesart.
        </p>
      </div>

      <!-- Full-Width Visualization Container -->
      <div class="viz-container viz-container--fullwidth" id="viz-container">
        <div class="viz-placeholder">
          <i data-lucide="bar-chart-3" class="viz-placeholder__icon" aria-hidden="true"></i>
          <p class="viz-placeholder__title">Visualisierung</p>
          <p class="viz-placeholder__text">Wird in Phase 3 implementiert.</p>
          <p class="viz-placeholder__tech">D3.js Â· Observable Plot Â· Leaflet</p>
        </div>
      </div>
    </section>

  </main>

  <!-- Detail Modal -->
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-signatur">
      <div class="modal__header">
        <div class="modal__header-content">
          <span class="modal__breadcrumb" id="modal-breadcrumb">UAKUG / NIM / Hauptbestand</span>
          <h2 class="modal__signatur" id="modal-signatur">-</h2>
        </div>
        <button class="modal__close" id="modal-close" aria-label="SchlieÃŸen">
          <i data-lucide="x" aria-hidden="true"></i>
        </button>
      </div>
      <div class="modal__body" id="modal-body">
        <!-- Title & Core Info -->
        <section class="modal-section" id="modal-core">
          <!-- Populated by JavaScript -->
        </section>

        <!-- Provenienz -->
        <section class="modal-section modal-section--provenienz" id="modal-provenienz">
          <h3 class="modal-section__title">
            <i data-lucide="book-open" class="modal-section__icon" aria-hidden="true"></i>
            Provenienz
          </h3>
          <div class="modal-section__content" id="provenienz-content">
            <!-- Populated by JavaScript -->
          </div>
        </section>

        <!-- VerknÃ¼pfungen -->
        <section class="modal-section modal-section--relations" id="modal-relations">
          <h3 class="modal-section__title">VerknÃ¼pfungen</h3>

          <!-- Personen -->
          <div class="relation-group" id="relations-personen">
            <h4 class="relation-group__title">
              <i data-lucide="user" class="relation-icon relation-icon--person" aria-hidden="true"></i>
              Personen
            </h4>
            <ul class="relation-list" id="list-personen">
              <!-- Populated by JavaScript -->
            </ul>
          </div>

          <!-- Institutionen -->
          <div class="relation-group" id="relations-institutionen">
            <h4 class="relation-group__title">
              <i data-lucide="building-2" class="relation-icon relation-icon--institution" aria-hidden="true"></i>
              Institutionen
            </h4>
            <ul class="relation-list" id="list-institutionen">
              <!-- Populated by JavaScript -->
            </ul>
          </div>

          <!-- Orte -->
          <div class="relation-group" id="relations-orte">
            <h4 class="relation-group__title">
              <i data-lucide="map-pin" class="relation-icon relation-icon--ort" aria-hidden="true"></i>
              Orte
            </h4>
            <ul class="relation-list" id="list-orte">
              <!-- Populated by JavaScript -->
            </ul>
          </div>

          <!-- Werke -->
          <div class="relation-group" id="relations-werke">
            <h4 class="relation-group__title">
              <i data-lucide="music" class="relation-icon relation-icon--werk" aria-hidden="true"></i>
              Werke
            </h4>
            <ul class="relation-list" id="list-werke">
              <!-- Populated by JavaScript -->
            </ul>
          </div>

          <!-- Ereignisse -->
          <div class="relation-group" id="relations-ereignisse">
            <h4 class="relation-group__title">
              <i data-lucide="calendar" class="relation-icon relation-icon--ereignis" aria-hidden="true"></i>
              Ereignisse
            </h4>
            <ul class="relation-list" id="list-ereignisse">
              <!-- Populated by JavaScript -->
            </ul>
          </div>
        </section>
      </div>
      <div class="modal__footer">
        <button class="btn btn--secondary" id="modal-json" aria-label="JSON-LD anzeigen">
          <i data-lucide="braces" class="btn__icon" aria-hidden="true"></i>
          JSON-LD
        </button>
        <button class="btn btn--primary" id="modal-analyse" aria-label="In Analyse Ã¶ffnen">
          <i data-lucide="bar-chart-3" class="btn__icon" aria-hidden="true"></i>
          In Analyse Ã¶ffnen
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="footer__content">
      <div>
        <strong>UniversitÃ¤tsarchiv der KunstuniversitÃ¤t Graz (UAKUG)</strong><br>
        GefÃ¶rdert von der Mariann Steegmann Foundation
      </div>
      <nav class="footer__links" aria-label="Footer-Navigation">
        <span>Metadaten: <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">CC BY 4.0</a></span>
        <span aria-hidden="true">|</span>
        <a href="data/m3gim.jsonld" download aria-label="JSON-LD Daten herunterladen">JSON-LD Download</a>
        <span aria-hidden="true">|</span>
        <a href="https://github.com/DigitalHumanitiesCraft/m3gim" target="_blank" rel="noopener noreferrer" aria-label="GitHub Repository Ã¶ffnen">GitHub</a>
      </nav>
    </div>
  </footer>

  <!-- D3.js for Visualizations -->
  <script src="https://unpkg.com/d3@7"></script>
  <script src="https://unpkg.com/d3-sankey@0.12"></script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

  <!-- Legacy Scripts (to be migrated) -->
  <!-- Application Script - handles Archiv view -->
  <script src="js/app.js"></script>

  <!-- Color Schemes - centralized color definitions -->
  <script src="js/color-schemes.js"></script>

  <!-- Data Extractor - transforms 436 real archive records for visualizations -->
  <script src="js/data-extractor.js"></script>

  <!-- Visualization Module - Partitur, Matrix, Kosmos, Sankey -->
  <script src="js/partitur.js"></script>

  <!-- New Visualization Modules (ES6) -->
  <script type="module" src="js/viz-main.js"></script>

  <!-- Initialize Lucide Icons -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      lucide.createIcons();
    });
  </script>

  <!--
    ES6 Modules (new architecture - Phase 3)
    These modules will gradually replace the legacy scripts above.
    Currently available for import in browser dev tools or future migration:
    - js/modules/config.js
    - js/modules/state.js
    - js/modules/utils.js
    - js/services/data-service.js
    - js/services/filter-service.js
    - js/components/modal.js
    - js/components/view-switcher.js
    - js/components/record-grid.js
    - js/components/tektonik-nav.js
    - js/components/filters.js
    - js/main.js (entry point)
  -->

</body>
</html>
